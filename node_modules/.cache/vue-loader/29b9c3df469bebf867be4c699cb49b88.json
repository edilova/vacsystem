{"remainingRequest":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/forInput/Addvillage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/forInput/Addvillage.vue","mtime":1551457008282},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\n\n\n\nexport default {\n    name: \"Addvillage\",\n    data: () => {\n        return {\n            selectedSO: \"\",\n            name: \"\",\n            getSO: \"\",\n            ruraldistrict: \"\",\n        }\n    },\n    created: function () {\n        this.fetchData();\n    },\n    methods:{\n        fetchData: function () {\n            return new Promise((resolve, reject) => {\n                console.log('promise example ');\n                const token = sessionStorage.getItem('token');\n                axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                console.log(axios.defaults.headers, 'headers in get');\n\n                //get Department\n                axios({url: 'http://185.22.65.39:7000/farmer/RuralDistrict/', method: 'GET' })\n\n                    .then(resp => {\n                        console.log('getWorkers',resp.data)\n                        this.getSO = resp.data.results\n                        resolve(resp)\n\n\n                    })\n                    .catch(err => {console.log(err)\n                    })\n\n            })\n        },\n        createNew(){\n            let name = this.name\n            let ruraldistrict = this.selectedSO\n\n            console.log(ruraldistrict)\n            this.$store.dispatch('createVillage', { name, ruraldistrict})\n                .then(() => {\n                    this.$router.push('/village')\n                })\n                .catch(err => console.log(err))\n\n            console.log(\"in creat new village fuction\")\n\n        }\n    }\n}\n",{"version":3,"sources":["Addvillage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA","file":"Addvillage.vue","sourceRoot":"src/views/forInput","sourcesContent":["<template>\n  <div>\n    <b-card>\n      <b-form>\n        <b-form-group\n          description=\"Название поселка\"\n          label=\"Название поселка\"\n          label-for=\"basicName\"\n          :label-cols=\"3\"\n          :horizontal=\"true\">\n          <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"name\"></b-form-input>\n        </b-form-group>\n\n\n\n\n        <div class=\"row\">\n          <div class=\"col-3\">\n            <p>Сельский Округ</p>\n          </div>\n          <div class=\"col-9\">\n            <select class=\"w-100\"  v-model=\"selectedSO\">\n              <option disabled value=\"\">Выберите сельский округ</option>\n              <option  v-for=\"so in getSO\" v-bind:value=\"so.id\">{{so.name}}\n              </option>\n            </select>\n          </div>\n        </div>\n\n\n      </b-form>\n      <div class=\"form-actions\">\n        <b-button type=\"submit\" variant=\"primary\" @click=\"createNew\">Добавить поселок</b-button>\n      </div>\n    </b-card>\n  </div>\n</template>\n\n<script>\n    import axios from 'axios'\n\n\n\n    export default {\n        name: \"Addvillage\",\n        data: () => {\n            return {\n                selectedSO: \"\",\n                name: \"\",\n                getSO: \"\",\n                ruraldistrict: \"\",\n            }\n        },\n        created: function () {\n            this.fetchData();\n        },\n        methods:{\n            fetchData: function () {\n                return new Promise((resolve, reject) => {\n                    console.log('promise example ');\n                    const token = sessionStorage.getItem('token');\n                    axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                    console.log(axios.defaults.headers, 'headers in get');\n\n                    //get Department\n                    axios({url: 'http://185.22.65.39:7000/farmer/RuralDistrict/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('getWorkers',resp.data)\n                            this.getSO = resp.data.results\n                            resolve(resp)\n\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n                })\n            },\n            createNew(){\n                let name = this.name\n                let ruraldistrict = this.selectedSO\n\n                console.log(ruraldistrict)\n                this.$store.dispatch('createVillage', { name, ruraldistrict})\n                    .then(() => {\n                        this.$router.push('/village')\n                    })\n                    .catch(err => console.log(err))\n\n                console.log(\"in creat new village fuction\")\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}