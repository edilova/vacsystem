{"remainingRequest":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/forInput/Village.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/forInput/Village.vue","mtime":1551457008249},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { shuffleArray } from '@/shared/utils'\nimport cTable from './Table.vue'\nimport axios from 'axios'\n\n\nconst someData = () => shuffleArray([\n  {поселок: 'Zhans'},\n])\n  export default {\n      name: \"Village\",\n    components: {cTable},\n    data: () => {\n      return {\n        items: someData,\n        itemsArray: someData(),\n        getVillages: \"\",\n        fields: [\n          {key: 'поселок', label: 'User', sortable: true}\n        ],\n      }\n    },\n      created: function () {\n          this.fetchData();\n      },\n      methods:{\n\n          fetchData: function () {\n              return new Promise((resolve, reject) => {\n                  // commit('auth_request')\n                  console.log('promise example ');\n                  const token = sessionStorage.getItem('token');\n                  axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                  console.log(axios.defaults.headers, 'headers in get');\n\n                  //get Department\n                  axios({url: 'http://185.22.65.39:7000/farmer/Village/', method: 'GET' })\n\n                      .then(resp => {\n                          console.log('getVillage',resp.data)\n                          this.getVillages = resp.data.results\n                          resolve(resp)\n\n\n                      })\n                      .catch(err => {console.log(err)\n                      })\n\n              })\n          },\n\n          listOfWorkers($FullName){\n\n              this.addWorkerPage = $FullName\n          },\n          // example (){\n          //     return new Promise((resolve, reject) => {\n          //         // commit('auth_request')\n          //         console.log('promise example ');\n          //         const token = sessionStorage.getItem('token');\n          //\n          //         axios.defaults.headers.common['Authorization'] = \"Token \" + token\n          //         // axios.defaults.headers.common['Content-Type'] = \"application/json\"\n          //         // axios.defaults.headers.common['Accept'] = \"application/json\"\n          //\n          //         console.log(axios.defaults.headers, 'headers in get');\n          //\n          //         axios({url: 'http://185.22.65.39:7000/employee/Department/', method: 'GET' })\n          //\n          //             .then(resp => {\n          //                 console.log('DEPATRMENT',resp.data)\n          //                 this.departments = resp.data.results\n          //                 resolve(resp)\n          //\n          //\n          //             })\n          //             .catch(err => {console.log(err)\n          //             })\n          //     })\n          // },\n          pageAddW($FullName) {\n              this.addWorkerPage = $FullName\n              return new Promise((resolve, reject) => {\n                  // commit('auth_request')\n                  console.log('promise example ');\n                  const token = sessionStorage.getItem('token');\n                  axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                  console.log(axios.defaults.headers, 'headers in get');\n\n\n\n                  //get Department\n                  axios({url: 'http://185.22.65.39:7000/employee/Department/', method: 'GET' })\n\n                      .then(resp => {\n                          console.log('DEPARTMENT',resp.data)\n                          this.departments = resp.data.results\n                          resolve(resp)\n\n\n                      })\n                      .catch(err => {console.log(err)\n                      })\n\n\n                  //get Speciality\n                  axios({url: 'http://185.22.65.39:7000/employee/EmployeeType/', method: 'GET' })\n\n                      .then(resp => {\n                          console.log('SPECIALITY',resp.data)\n                          this.specialities = resp.data.results\n                          resolve(resp)\n\n\n                      })\n                      .catch(err => {console.log(err)\n                      })\n\n                  //get Sel'skii okrug\n                  axios({url: 'http://185.22.65.39:7000/employee/EmployeeType/', method: 'GET' })\n\n                      .then(resp => {\n                          console.log('OKRUG',resp.data)\n                          this.specialities = resp.data.results\n                          resolve(resp)\n\n\n                      })\n                      .catch(err => {console.log(err)\n                      })\n\n\n                  //\n                  // axios({url: 'http://185.22.65.39:7000/employee/Department/', method: 'GET' })\n                  //\n                  //     .then(resp => {\n                  //         console.log('EXAMPLE',resp.data)\n                  //         this.departments = resp.data.results\n                  //         resolve(resp)\n                  //\n                  //\n                  //     })\n                  //     .catch(err => {console.log(err)\n                  //     })\n              })\n\n\n\n\n              // console.log(\"CREATED CLICKED\")\n              // this.$http.get('http://185.22.65.39:7000/employee/Department/').then(function (data) {\n              //   this.todos = data.body\n              //   console.log(\"QWERTYUIOP{\",data)\n              // })\n              // this.$http.get('http://185.22.65.39:7000/employee/EmployeeType/').then(function (data) {\n              //   this.specialities = data.body\n              //   console.log(\"SPECIALITY\",data)\n              // })\n              //\n              // this.$http.get('http://185.22.65.39:7000/employee/Employee/').then(function (data) {\n              //   this.listOfEmp = data.body\n              //   console.log(\"listOfEmp\",data)\n              // })\n\n          },\n\n\n          // listOfWorkers($FullName){\n          //     this.addWorkerPage = $FullName\n          //\n          //     const token = sessionStorage.getItem('token');\n          //\n          //     axios.defaults.headers.common['Authorization'] = \"Token \" + token\n          //     console.log(axios.defaults.headers, 'headers in get');\n          //\n          //     axios({url: 'http://185.22.65.39:7000/employee/Employee/', method: 'GET' })\n          //\n          //         .then(resp => {\n          //             console.log('OKRUG',resp.data)\n          //             this.getWorkers = resp.data.results\n          //             resolve(resp)\n          //\n          //\n          //         })\n          //         .catch(err => {console.log(err)\n          //         })\n          // },\n\n\n\n          createNew(){\n              let id = this.IIN\n              let employeeskey = this.passw\n              let name = this.fio\n              let employeetype = this.selectedSpec\n              let department = this.selectedDep\n              let ruraldistrict = '1'\n              let phone = this.phone\n\n\n              // let id = \"23456789\"\n              // let employeeskey = \"wejnvcknewkv1213\"\n              // let name = \"test kudr\"\n              // let employeetype = '1'\n              // let department = '1'\n              // let ruraldistrict = '1'\n              // let phone = \"45980889\"\n\n              console.log(ruraldistrict)\n\n              // let username = this.login\n              // let password = this.password\n              this.$store.dispatch('createWorker', { id, employeeskey,name,employeetype,department,ruraldistrict ,phone})\n                  .then(() => {\n                      console.log(\"TIUTUTU\")\n                  })\n                  .catch(err => console.log(err))\n\n\n\n\n\n\n              console.log(\"in creat new fuction\")\n              const newWorker = {\n                  // IIN: this.IIN,\n                  // passw: this.passw,\n                  // fio: this.fio,\n                  // spec: this.spec,\n                  // otdel: this.otdel,\n                  // phone: this.phone\n\n                  // id: \"'7\",\n                  // employeeskey: \"13\",\n                  // name: \"E A\",\n                  // employeetype: \"1\",\n                  // department: \"2\",\n                  // phone: \"1234567\"\n              }\n\n\n\n              // this.$http.post('http://185.22.65.39:7000/employee/Employee/',{\n              //   id: this.IIN,\n              //   employeeskey: this.passw,\n              //   name: this.fio,\n              //   employeetype: this.selectedSpec,\n              //   department: this.selectedDep,\n              //   phone: this.phone\n              // }).then(function (data) {\n              //   this.todos = data.body\n              //   console.log(\"POST{\",data)\n              // })\n          }\n      }\n  }\n",{"version":3,"sources":["Village.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Village.vue","sourceRoot":"src/views/forInput","sourcesContent":["<template>\n    <div>\n      <b-col cols=\"2\" sm=\"4\" md=\"2\" class=\"mb-3 mb-xl-0 \">\n        <b-button block variant=\"primary\" class=\"mb-2\" to=\"/addvillage\">Добавить поселок</b-button>\n      </b-col>\n      <b-col lg=\"12\">\n          <div>\n              <b-card>\n                  <!--{{getWorkers}}-->\n                  <table class=\"table\">\n                      <thead>\n                      <tr>\n                          <th scope=\"col\">Имя</th>\n                          <th scope=\"col\">Сельский Округ</th>\n                      </tr>\n                      </thead>\n                      <tbody v-for=\"vil in getVillages\">\n                      <tr>\n                          <td>{{vil.name}}</td>\n                          <td>{{vil.ruraldistrict}}</td>\n                      </tr>\n                      </tbody>\n                  </table>\n              </b-card>\n          </div>\n      </b-col>\n    </div>\n</template>\n\n<script>\n  import { shuffleArray } from '@/shared/utils'\n  import cTable from './Table.vue'\n  import axios from 'axios'\n\n\n  const someData = () => shuffleArray([\n    {поселок: 'Zhans'},\n  ])\n    export default {\n        name: \"Village\",\n      components: {cTable},\n      data: () => {\n        return {\n          items: someData,\n          itemsArray: someData(),\n          getVillages: \"\",\n          fields: [\n            {key: 'поселок', label: 'User', sortable: true}\n          ],\n        }\n      },\n        created: function () {\n            this.fetchData();\n        },\n        methods:{\n\n            fetchData: function () {\n                return new Promise((resolve, reject) => {\n                    // commit('auth_request')\n                    console.log('promise example ');\n                    const token = sessionStorage.getItem('token');\n                    axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                    console.log(axios.defaults.headers, 'headers in get');\n\n                    //get Department\n                    axios({url: 'http://185.22.65.39:7000/farmer/Village/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('getVillage',resp.data)\n                            this.getVillages = resp.data.results\n                            resolve(resp)\n\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n                })\n            },\n\n            listOfWorkers($FullName){\n\n                this.addWorkerPage = $FullName\n            },\n            // example (){\n            //     return new Promise((resolve, reject) => {\n            //         // commit('auth_request')\n            //         console.log('promise example ');\n            //         const token = sessionStorage.getItem('token');\n            //\n            //         axios.defaults.headers.common['Authorization'] = \"Token \" + token\n            //         // axios.defaults.headers.common['Content-Type'] = \"application/json\"\n            //         // axios.defaults.headers.common['Accept'] = \"application/json\"\n            //\n            //         console.log(axios.defaults.headers, 'headers in get');\n            //\n            //         axios({url: 'http://185.22.65.39:7000/employee/Department/', method: 'GET' })\n            //\n            //             .then(resp => {\n            //                 console.log('DEPATRMENT',resp.data)\n            //                 this.departments = resp.data.results\n            //                 resolve(resp)\n            //\n            //\n            //             })\n            //             .catch(err => {console.log(err)\n            //             })\n            //     })\n            // },\n            pageAddW($FullName) {\n                this.addWorkerPage = $FullName\n                return new Promise((resolve, reject) => {\n                    // commit('auth_request')\n                    console.log('promise example ');\n                    const token = sessionStorage.getItem('token');\n                    axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                    console.log(axios.defaults.headers, 'headers in get');\n\n\n\n                    //get Department\n                    axios({url: 'http://185.22.65.39:7000/employee/Department/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('DEPARTMENT',resp.data)\n                            this.departments = resp.data.results\n                            resolve(resp)\n\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n\n                    //get Speciality\n                    axios({url: 'http://185.22.65.39:7000/employee/EmployeeType/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('SPECIALITY',resp.data)\n                            this.specialities = resp.data.results\n                            resolve(resp)\n\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n                    //get Sel'skii okrug\n                    axios({url: 'http://185.22.65.39:7000/employee/EmployeeType/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('OKRUG',resp.data)\n                            this.specialities = resp.data.results\n                            resolve(resp)\n\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n\n                    //\n                    // axios({url: 'http://185.22.65.39:7000/employee/Department/', method: 'GET' })\n                    //\n                    //     .then(resp => {\n                    //         console.log('EXAMPLE',resp.data)\n                    //         this.departments = resp.data.results\n                    //         resolve(resp)\n                    //\n                    //\n                    //     })\n                    //     .catch(err => {console.log(err)\n                    //     })\n                })\n\n\n\n\n                // console.log(\"CREATED CLICKED\")\n                // this.$http.get('http://185.22.65.39:7000/employee/Department/').then(function (data) {\n                //   this.todos = data.body\n                //   console.log(\"QWERTYUIOP{\",data)\n                // })\n                // this.$http.get('http://185.22.65.39:7000/employee/EmployeeType/').then(function (data) {\n                //   this.specialities = data.body\n                //   console.log(\"SPECIALITY\",data)\n                // })\n                //\n                // this.$http.get('http://185.22.65.39:7000/employee/Employee/').then(function (data) {\n                //   this.listOfEmp = data.body\n                //   console.log(\"listOfEmp\",data)\n                // })\n\n            },\n\n\n            // listOfWorkers($FullName){\n            //     this.addWorkerPage = $FullName\n            //\n            //     const token = sessionStorage.getItem('token');\n            //\n            //     axios.defaults.headers.common['Authorization'] = \"Token \" + token\n            //     console.log(axios.defaults.headers, 'headers in get');\n            //\n            //     axios({url: 'http://185.22.65.39:7000/employee/Employee/', method: 'GET' })\n            //\n            //         .then(resp => {\n            //             console.log('OKRUG',resp.data)\n            //             this.getWorkers = resp.data.results\n            //             resolve(resp)\n            //\n            //\n            //         })\n            //         .catch(err => {console.log(err)\n            //         })\n            // },\n\n\n\n            createNew(){\n                let id = this.IIN\n                let employeeskey = this.passw\n                let name = this.fio\n                let employeetype = this.selectedSpec\n                let department = this.selectedDep\n                let ruraldistrict = '1'\n                let phone = this.phone\n\n\n                // let id = \"23456789\"\n                // let employeeskey = \"wejnvcknewkv1213\"\n                // let name = \"test kudr\"\n                // let employeetype = '1'\n                // let department = '1'\n                // let ruraldistrict = '1'\n                // let phone = \"45980889\"\n\n                console.log(ruraldistrict)\n\n                // let username = this.login\n                // let password = this.password\n                this.$store.dispatch('createWorker', { id, employeeskey,name,employeetype,department,ruraldistrict ,phone})\n                    .then(() => {\n                        console.log(\"TIUTUTU\")\n                    })\n                    .catch(err => console.log(err))\n\n\n\n\n\n\n                console.log(\"in creat new fuction\")\n                const newWorker = {\n                    // IIN: this.IIN,\n                    // passw: this.passw,\n                    // fio: this.fio,\n                    // spec: this.spec,\n                    // otdel: this.otdel,\n                    // phone: this.phone\n\n                    // id: \"'7\",\n                    // employeeskey: \"13\",\n                    // name: \"E A\",\n                    // employeetype: \"1\",\n                    // department: \"2\",\n                    // phone: \"1234567\"\n                }\n\n\n\n                // this.$http.post('http://185.22.65.39:7000/employee/Employee/',{\n                //   id: this.IIN,\n                //   employeeskey: this.passw,\n                //   name: this.fio,\n                //   employeetype: this.selectedSpec,\n                //   department: this.selectedDep,\n                //   phone: this.phone\n                // }).then(function (data) {\n                //   this.todos = data.body\n                //   console.log(\"POST{\",data)\n                // })\n            }\n        }\n    }\n</script>\n\n\n<style scoped>\n\n</style>\n"]}]}