{"remainingRequest":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/forInput/Addvaccination.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/forInput/Addvaccination.vue","mtime":1551457008210},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\n\n\nexport default {\n    name: \"Addvaccination\",\n    data: () => {\n        return {\n            id: \"\",\n            name: \"\",\n            volume: \"\",\n            description: \"\",\n            getSuit: \"\",\n            getGender: \"\",\n            getDisease: \"\",\n            selectedSuit: \"\",\n            selectedDose: \"\",\n            selectedDisease: \"\",\n\n        }\n    },\n    created: function () {\n        this.fetchData();\n    },\n    methods:{\n        fetchData: function () {\n            return new Promise((resolve, reject) => {\n                console.log('promise example ');\n                const token = sessionStorage.getItem('token');\n                axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                console.log(axios.defaults.headers, 'headers in get');\n\n                //get Suit\n                axios({url: 'http://185.22.65.39:7000/livestock/Suit/', method: 'GET' })\n\n                    .then(resp => {\n                        console.log('GET SUIT',resp.data)\n                        this.getSuit = resp.data.results\n                        resolve(resp)\n\n\n                    })\n                    .catch(err => {console.log(err)\n                    })\n\n                //get Farmer\n                axios({url: 'http://185.22.65.39:7000/vaccination/Disease/', method: 'GET' })\n\n                    .then(resp => {\n                        console.log('GET DISEAES',resp.data)\n                        this.getDisease = resp.data.results\n                        resolve(resp)\n\n\n                    })\n                    .catch(err => {console.log(err)\n                    })\n\n            })\n        },\n        createNew(){\n            let id = this.id\n            let name = this.name\n            let volume = this.volume\n            let dose = \"1\"\n            let disease = this.selectedDisease\n            let modeofapplication = \"1\"\n            let typesoflivestock = this.selectedSuit\n            let description = this.description\n            //\n            // let id = \"1212\"\n            // let name = \"qerty\"\n            // let dose = \"1\"\n            // let disease = [1, 1]\n            // let modeofapplication = \"1\"\n            // let typesoflivestock = \"1\"\n            // let description = \"hello hello\"\n\n            console.log(description)\n            this.$store.dispatch('createVaccination', { id, name,volume, dose, disease, modeofapplication, typesoflivestock,description})\n                .then(() => {\n                    console.log(\"ADD LIVESTOCK\")\n                })\n                .catch(err => console.log(err))\n\n            this.$router.push('/vaccination')\n\n            axios({url: 'http://185.22.65.39:7000/vaccination/Medicine/', method: 'GET' })\n\n                .then(resp => {\n                    console.log('getMedicine',resp.data)\n                    this.getMedicine = resp.data.results\n                    resolve(resp)\n\n\n                })\n                .catch(err => {console.log(err)\n                })\n\n        }\n    }\n}\n",{"version":3,"sources":["Addvaccination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA","file":"Addvaccination.vue","sourceRoot":"src/views/forInput","sourcesContent":["<template>\n    <div>\n        <b-card>\n            <b-form>\n                <b-form-group\n                        label=\"id вакцины\"\n                        label-for=\"basicName\"\n                        :label-cols=\"3\"\n                        :horizontal=\"true\">\n                    <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"id\"></b-form-input>\n                </b-form-group>\n\n                <b-form-group\n                        label=\"Название вакцины\"\n                        label-for=\"basicName\"\n                        :label-cols=\"3\"\n                        :horizontal=\"true\">\n                    <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"name\"></b-form-input>\n                </b-form-group>\n\n                <div class=\"row\">\n                    <div class=\"col-3\">\n                        <p>Объем</p>\n                    </div>\n                    <div class=\"col-9\">\n                        <select class=\"w-100\" v-model=\"volume\" >\n                            <option disabled value=\"\">Выберите объем</option>\n                            <option>1</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-3\">\n                        <p>Доза</p>\n                    </div>\n                    <div class=\"col-9\">\n                        <select class=\"w-100\" v-model=\"selectedDose\" >\n                            <option disabled value=\"\">Выберите дозу</option>\n                            <option>1</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-3\">\n                        <p>Болезни</p>\n                    </div>\n                    <div class=\"col-9\">\n                        <select class=\"w-100\" v-model=\"selectedDisease\" >\n                            <option disabled value=\"\">Выберите болезнь</option>\n                            <option v-for=\"plac in getDisease\" v-bind:value=\"plac.id\">{{plac.name}}</option>\n                        </select>\n                    </div>\n                </div>\n\n\n                <div class=\"row\">\n                    <div class=\"col-3\">\n                        <p>Вид животного</p>\n                    </div>\n                    <div class=\"col-9\">\n                        <select class=\"w-100\" v-model=\"selectedSuit\" >\n                            <option disabled value=\"\">Выберите вид животного</option>\n                            <option v-for=\"suit in getSuit\" v-bind:value=\"suit.id\">{{suit.name}}</option>\n                        </select>\n                    </div>\n                </div>\n\n\n                <b-form-group\n                        label=\"Описание вакцины\"\n                        label-for=\"basicName\"\n                        :label-cols=\"3\"\n                        :horizontal=\"true\">\n                    <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"description\"></b-form-input>\n                </b-form-group>\n\n\n            </b-form>\n            <div class=\"form-actions\">\n                <b-button v-on:click=\"createNew\" type=\"submit\" variant=\"primary\">Добавить вакцину</b-button>\n            </div>\n        </b-card>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n\n\n    export default {\n        name: \"Addvaccination\",\n        data: () => {\n            return {\n                id: \"\",\n                name: \"\",\n                volume: \"\",\n                description: \"\",\n                getSuit: \"\",\n                getGender: \"\",\n                getDisease: \"\",\n                selectedSuit: \"\",\n                selectedDose: \"\",\n                selectedDisease: \"\",\n\n            }\n        },\n        created: function () {\n            this.fetchData();\n        },\n        methods:{\n            fetchData: function () {\n                return new Promise((resolve, reject) => {\n                    console.log('promise example ');\n                    const token = sessionStorage.getItem('token');\n                    axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                    console.log(axios.defaults.headers, 'headers in get');\n\n                    //get Suit\n                    axios({url: 'http://185.22.65.39:7000/livestock/Suit/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('GET SUIT',resp.data)\n                            this.getSuit = resp.data.results\n                            resolve(resp)\n\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n                    //get Farmer\n                    axios({url: 'http://185.22.65.39:7000/vaccination/Disease/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('GET DISEAES',resp.data)\n                            this.getDisease = resp.data.results\n                            resolve(resp)\n\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n                })\n            },\n            createNew(){\n                let id = this.id\n                let name = this.name\n                let volume = this.volume\n                let dose = \"1\"\n                let disease = this.selectedDisease\n                let modeofapplication = \"1\"\n                let typesoflivestock = this.selectedSuit\n                let description = this.description\n                //\n                // let id = \"1212\"\n                // let name = \"qerty\"\n                // let dose = \"1\"\n                // let disease = [1, 1]\n                // let modeofapplication = \"1\"\n                // let typesoflivestock = \"1\"\n                // let description = \"hello hello\"\n\n                console.log(description)\n                this.$store.dispatch('createVaccination', { id, name,volume, dose, disease, modeofapplication, typesoflivestock,description})\n                    .then(() => {\n                        console.log(\"ADD LIVESTOCK\")\n                    })\n                    .catch(err => console.log(err))\n\n                this.$router.push('/vaccination')\n\n                axios({url: 'http://185.22.65.39:7000/vaccination/Medicine/', method: 'GET' })\n\n                    .then(resp => {\n                        console.log('getMedicine',resp.data)\n                        this.getMedicine = resp.data.results\n                        resolve(resp)\n\n\n                    })\n                    .catch(err => {console.log(err)\n                    })\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}