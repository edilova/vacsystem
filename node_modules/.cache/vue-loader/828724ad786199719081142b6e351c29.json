{"remainingRequest":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/MainInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/MainInput.vue","mtime":1551455728637},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\n\nexport default {\n    name: \"Main\",\n    components: {\n    },\n    data: () => {\n        return {\n            todos: [],\n            departments: \"\"\n        }\n    },\n    created: function () {\n        this.fetchData();\n    },\n    methods:{\n\n        fetchData: function () {\n            return new Promise((resolve, reject) => {\n                // commit('auth_request')\n                console.log('promise example ');\n                const token = sessionStorage.getItem('token');\n                axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                console.log(axios.defaults.headers, 'headers in get');\n\n                //get Department\n                axios({url: 'http://185.22.65.39:7000/employee/Department/', method: 'GET' })\n\n                    .then(resp => {\n                        console.log('DEPARTMENT',resp.data)\n                        this.departments = resp.data.results\n                        resolve(resp)\n\n\n                    })\n                    .catch(err => {console.log(err)\n                    })\n\n            })\n        },\n        created() {\n\n            this.$store.dispatch('main')\n                .then(() => {\n                    this.todos = data.body\n                    console.log(\"DATA\",data)\n                })\n                .catch(err => console.log(err))\n        },\n    }\n}\n\n",{"version":3,"sources":["MainInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainInput.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n      <b-card>\n        <b-button size=\"lg\" variant=\"outline-primary\" to=\"/workers\"   block>Работники</b-button>\n        <b-button size=\"lg\" variant=\"outline-primary\" to=\"/village\"  block>Поселок</b-button>\n        <b-button size=\"lg\" variant=\"outline-primary\" to=\"/farmer\"  block>Фермеры</b-button>\n        <b-button size=\"lg\" variant=\"outline-primary\" to=\"/livestock\"  block>Животные</b-button>\n        <b-button size=\"lg\" variant=\"outline-primary\" to=\"/vaccination\"  block>Вакцинация</b-button>\n      </b-card>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n\n    export default {\n        name: \"Main\",\n        components: {\n        },\n        data: () => {\n            return {\n                todos: [],\n                departments: \"\"\n            }\n        },\n        created: function () {\n            this.fetchData();\n        },\n        methods:{\n\n            fetchData: function () {\n                return new Promise((resolve, reject) => {\n                    // commit('auth_request')\n                    console.log('promise example ');\n                    const token = sessionStorage.getItem('token');\n                    axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                    console.log(axios.defaults.headers, 'headers in get');\n\n                    //get Department\n                    axios({url: 'http://185.22.65.39:7000/employee/Department/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('DEPARTMENT',resp.data)\n                            this.departments = resp.data.results\n                            resolve(resp)\n\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n                })\n            },\n            created() {\n\n                this.$store.dispatch('main')\n                    .then(() => {\n                        this.todos = data.body\n                        console.log(\"DATA\",data)\n                    })\n                    .catch(err => console.log(err))\n            },\n        }\n    }\n\n</script>\n\n<style scoped>\n\n\n\n</style>\n"]}]}