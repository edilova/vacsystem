{"remainingRequest":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/babel-loader/lib/index.js!/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/pages/Login.vue","mtime":1544748727708},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport $ from 'jquery';\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      login: '',\n      username: '',\n      password: '',\n      token: ''\n    };\n  },\n  methods: {\n    setLogin: function setLogin() {\n      var _this = this;\n\n      var username = this.login;\n      var password = this.password;\n      this.$store.dispatch('login', {\n        username: username,\n        password: password\n      }).then(function () {\n        return _this.$router.push('/main');\n      }).catch(function (err) {\n        return console.log(err);\n      }); // $.ajax({\n      //     url: \"https://vaccinsystem.herokuapp.com/api-token-auth/ \",\n      //     type: \"POST\",\n      //     data: {\n      //         username: this.login,\n      //         password: this.password\n      //         // username: \"admin\",\n      //         // password: \"admin123\"\n      //     },\n      //     success:(responce) => {\n      //         // console.log(\"SUCCESS OR NOT\",responce)\n      //         this.token = responce.token\n      //         console.log(\"TOKEN \",this.token)\n      //         sessionStorage.setItem(\"Auth_token session\", responce.token)\n      //         // localStorage.setItem(\"Auth token local\", responce.access)\n      //         console.log(\"AUTH TOKEN\", responce.token)\n      //         this.$router.push({ name: 'Главная', query: { redirect: '/main' } });\n      //\n      //\n      //         if (sessionStorage.getItem('Auth_token session') != null){\n      //             this.$emit('loggedIn')\n      //             if(this.$route.params.nextUrl != null){\n      //                 this.$router.push(this.$route.params.nextUrl)\n      //             }\n      //             else {\n      //\n      //\n      //                 this.$router.push('main')\n      //                 // if(is_admin== 1){\n      //                 //     this.$router.push('admin')\n      //                 // }\n      //                 // else {\n      //                 //     this.$router.push('dashboard')\n      //                 // }\n      //             }\n      //         }\n      //     },\n      //     error: (responce) => {\n      //         if(responce.status === 400){\n      //             alert(\"Логин или пароль не верен\")\n      //         }\n      //         console.log(\"ERROR\", responseText)\n      //     }\n      // })\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,CAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,UAAA,QAAA,GAAA,KAAA,KAAA;AACA,UAAA,QAAA,GAAA,KAAA,QAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,OAAA,EAAA;AAAA,QAAA,QAAA,EAAA,QAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA,EACA,IADA,CACA;AAAA,eAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AAAA,OADA,EAEA,KAFA,CAEA,UAAA,GAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AAAA,OAFA,EAHA,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArDA;AAVA,CAAA","sourcesContent":["<template>\n  <div class=\"app flex-row align-items-center\">\n    <div class=\"container\">\n      <b-row class=\"justify-content-center\">\n        <b-col md=\"6\">\n          <b-card-group>\n            <b-card no-body class=\"p-4\">\n              <b-card-body>\n                <b-form>\n                  <h1>Авторизация</h1>\n                  <p class=\"text-muted\">Введите свои логин и пароль</p>\n                  <b-input-group class=\"mb-3\">\n                    <b-input-group-prepend><b-input-group-text><i class=\"icon-user\"></i></b-input-group-text></b-input-group-prepend>\n                    <b-form-input v-model=\"login\" type=\"text\" class=\"form-control\" placeholder=\"Логин\" autocomplete=\"username email\" />\n                  </b-input-group>\n                  <b-input-group class=\"mb-4\">\n                    <b-input-group-prepend><b-input-group-text><i class=\"icon-lock\"></i></b-input-group-text></b-input-group-prepend>\n                    <b-form-input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Пароль\" autocomplete=\"current-password\" />\n                  </b-input-group>\n                  <b-row>\n                    <b-col cols=\"6\">\n                      <b-button variant=\"primary\" @click=\"setLogin\" class=\"px-4\">Войти</b-button>\n                    </b-col>\n                    <!--<b-col cols=\"6\" class=\"text-right\">-->\n                      <!--<b-button variant=\"link\" class=\"px-0\">Forgot password?</b-button>-->\n                    <!--</b-col>-->\n\n\n                  </b-row>\n                </b-form>\n              </b-card-body>\n            </b-card>\n            <!--<b-card no-body class=\"text-white bg-primary py-5 d-md-down-none\" style=\"width:44%\">-->\n              <!--<b-card-body class=\"text-center\">-->\n                <!--<div>-->\n                  <!--<h2>Sign up</h2>-->\n                  <!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>-->\n                  <!--<b-button variant=\"primary\" class=\"active mt-3\">Register Now!</b-button>-->\n                <!--</div>-->\n              <!--</b-card-body>-->\n            <!--</b-card>-->\n          </b-card-group>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n\n<script>\n  import $ from 'jquery'\n\nexport default {\n    name: 'Login',\n    data(){\n        return{\n            login: '',\n            username:'',\n            password: '',\n            token: '',\n        }\n    },\n    methods:{\n        setLogin(){\n            let username = this.login\n            let password = this.password\n            this.$store.dispatch('login', { username, password })\n                .then(() => this.$router.push('/main'))\n                .catch(err => console.log(err))\n\n\n            // $.ajax({\n            //     url: \"https://vaccinsystem.herokuapp.com/api-token-auth/ \",\n            //     type: \"POST\",\n            //     data: {\n            //         username: this.login,\n            //         password: this.password\n            //         // username: \"admin\",\n            //         // password: \"admin123\"\n            //     },\n            //     success:(responce) => {\n            //         // console.log(\"SUCCESS OR NOT\",responce)\n            //         this.token = responce.token\n            //         console.log(\"TOKEN \",this.token)\n            //         sessionStorage.setItem(\"Auth_token session\", responce.token)\n            //         // localStorage.setItem(\"Auth token local\", responce.access)\n            //         console.log(\"AUTH TOKEN\", responce.token)\n            //         this.$router.push({ name: 'Главная', query: { redirect: '/main' } });\n            //\n            //\n            //         if (sessionStorage.getItem('Auth_token session') != null){\n            //             this.$emit('loggedIn')\n            //             if(this.$route.params.nextUrl != null){\n            //                 this.$router.push(this.$route.params.nextUrl)\n            //             }\n            //             else {\n            //\n            //\n            //                 this.$router.push('main')\n            //                 // if(is_admin== 1){\n            //                 //     this.$router.push('admin')\n            //                 // }\n            //                 // else {\n            //                 //     this.$router.push('dashboard')\n            //                 // }\n            //             }\n            //         }\n            //     },\n            //     error: (responce) => {\n            //         if(responce.status === 400){\n            //             alert(\"Логин или пароль не верен\")\n            //         }\n            //         console.log(\"ERROR\", responseText)\n            //     }\n            // })\n        }\n    }\n}\n</script>\n"],"sourceRoot":"src/views/pages"}]}