{"remainingRequest":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/babel-loader/lib/index.js!/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/forInput/Addfarmer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/src/views/forInput/Addfarmer.vue","mtime":1551457008221},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aruzhan/WebstormProjects/vacwithbackend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: \"Addfarmer\",\n  data: function data() {\n    return {\n      id: \"\",\n      name: \"\",\n      phone: \"\",\n      email: \"\",\n      address: \"\",\n      village: \"\",\n      getVillages: \"\"\n    };\n  },\n  created: function created() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData: function fetchData() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        // commit('auth_request')\n        console.log('promise example ');\n        var token = sessionStorage.getItem('token');\n        axios.defaults.headers.common['Authorization'] = \"Token \" + token;\n        console.log(axios.defaults.headers, 'headers in get'); //get Department\n\n        axios({\n          url: 'http://185.22.65.39:7000/farmer/Village/',\n          method: 'GET'\n        }).then(function (resp) {\n          console.log('getVillage', resp.data);\n          _this.getVillages = resp.data.results;\n          resolve(resp);\n        }).catch(function (err) {\n          console.log(err);\n        });\n      });\n    },\n    createNew: function createNew() {\n      var _this2 = this;\n\n      var id = this.id;\n      var name = this.name;\n      var phone = this.phone;\n      var email = this.email;\n      var address = this.address;\n      var village = this.village; // console.log(ruraldistrict)\n      // let username = this.login\n      // let password = this.password\n\n      this.$store.dispatch('createFarmer', {\n        id: id,\n        name: name,\n        phone: phone,\n        email: email,\n        address: address,\n        village: village\n      }).then(function () {\n        _this2.$router.push('/farmer'); // this.$router.push('/village')\n\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      this.$router.push('/farmer');\n      console.log(\"ARUUU\", village);\n    }\n  }\n};",{"version":3,"sources":["Addfarmer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,WAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,SAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AAEA,IAAA,SAAA,EAAA,qBAAA;AAAA;;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,kBAAA;AACA,YAAA,KAAA,GAAA,cAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,CAAA,eAAA,IAAA,WAAA,KAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA,EAAA,gBAAA,EALA,CAOA;;AACA,QAAA,KAAA,CAAA;AAAA,UAAA,GAAA,EAAA,0CAAA;AAAA,UAAA,MAAA,EAAA;AAAA,SAAA,CAAA,CAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,YAAA,EAAA,IAAA,CAAA,IAAA;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA,UAAA,OAAA,CAAA,IAAA,CAAA;AAEA,SAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AAAA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,SATA;AAWA,OAnBA,CAAA;AAoBA,KAvBA;AAwBA,IAAA,SAxBA,uBAwBA;AAAA;;AACA,UAAA,EAAA,GAAA,KAAA,EAAA;AACA,UAAA,IAAA,GAAA,KAAA,IAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,OAAA,GAAA,KAAA,OAAA;AACA,UAAA,OAAA,GAAA,KAAA,OAAA,CANA,CAQA;AAEA;AACA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA;AAAA,QAAA,EAAA,EAAA,EAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,QAAA,OAAA,EAAA,OAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA,EACA,IADA,CACA,YAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,SAAA,EADA,CAGA;;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AAAA,OANA;AASA,WAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,OAAA;AACA;AA/CA;AAhBA,CAAA","sourcesContent":["<template>\n  <div>\n    <b-card>\n      <b-form>\n        <b-form-group\n          description=\"ИИН фермера\"\n          label=\"ИИН фермера\"\n          label-for=\"basicName\"\n          :label-cols=\"3\"\n          :horizontal=\"true\">\n          <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"id\"></b-form-input>\n        </b-form-group>\n\n        <b-form-group\n          description=\"Полное имя фермера\"\n          label=\"ФИО\"\n          label-for=\"basicName\"\n          :label-cols=\"3\"\n          :horizontal=\"true\">\n          <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"name\"></b-form-input>\n        </b-form-group>\n\n        <b-form-group\n          label=\"Номер телефона\"\n          label-for=\"basicName\"\n          :label-cols=\"3\"\n          :horizontal=\"true\">\n          <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"phone\"></b-form-input>\n        </b-form-group>\n\n        <b-form-group\n          label=\"Почта\"\n          label-for=\"basicName\"\n          :label-cols=\"3\"\n          :horizontal=\"true\">\n          <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"email\"></b-form-input>\n        </b-form-group>\n\n        <b-form-group\n          label=\"Адрес\"\n          label-for=\"basicName\"\n          :label-cols=\"3\"\n          :horizontal=\"true\">\n          <b-form-input id=\"basicName\" type=\"text\" autocomplete=\"name\" v-model=\"address\"></b-form-input>\n        </b-form-group>\n\n\n\n        <div class=\"row\">\n          <div class=\"col-3\">\n            <p>Поселок</p>\n          </div>\n          <div class=\"col-9\">\n            <select class=\"w-100\"  v-model=\"village\">\n              <option disabled value=\"\">Выберите поселок</option>\n              <option  v-for=\"vil in getVillages\" v-bind:value=\"vil.id\">{{vil.name}}\n              </option>\n            </select>\n          </div>\n        </div>\n\n      </b-form>\n      <div class=\"form-actions\">\n        <b-button type=\"submit\" variant=\"primary\" @click=\"createNew\">Добавить фермера</b-button>\n      </div>\n    </b-card>\n  </div>\n</template>\n\n<script>\n    import axios from 'axios'\n\n    export default {\n        name: \"Addfarmer\",\n        data: () =>{\n            return{\n                id: \"\",\n                name: \"\",\n                phone: \"\",\n                email: \"\",\n                address: \"\",\n                village: \"\",\n                getVillages: \"\",\n            }\n        },\n        created: function () {\n            this.fetchData();\n        },\n        methods:{\n\n            fetchData: function () {\n                return new Promise((resolve, reject) => {\n                    // commit('auth_request')\n                    console.log('promise example ');\n                    const token = sessionStorage.getItem('token');\n                    axios.defaults.headers.common['Authorization'] = \"Token \" + token\n                    console.log(axios.defaults.headers, 'headers in get');\n\n                    //get Department\n                    axios({url: 'http://185.22.65.39:7000/farmer/Village/', method: 'GET' })\n\n                        .then(resp => {\n                            console.log('getVillage',resp.data)\n                            this.getVillages = resp.data.results\n                            resolve(resp)\n\n                        })\n                        .catch(err => {console.log(err)\n                        })\n\n                })\n            },\n            createNew(){\n                let id = this.id\n                let name = this.name\n                let phone = this.phone\n                let email = this.email\n                let address = this.address\n                let village = this.village\n\n                // console.log(ruraldistrict)\n\n                // let username = this.login\n                // let password = this.password\n                this.$store.dispatch('createFarmer', { id, name, phone, email, address, village})\n                    .then(() => {\n                        this.$router.push('/farmer')\n\n                        // this.$router.push('/village')\n                    })\n                    .catch(err => console.log(err))\n\n\n                this.$router.push('/farmer')\n                console.log(\"ARUUU\",village)\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/forInput"}]}